# Travel Helper v2.0 PRD

## 개요

여행 가계부 앱의 전면 리뉴얼. 단일 국가/통화 기반에서 **다중 국가/통화** 지원으로 확장하고, 환전 지갑 관리, 현지 통화 우선 표시 등 실제 여행자의 니즈에 맞게 개선.

---

## 핵심 변경사항

| 구분 | AS-IS (v1) | TO-BE (v2) |
|------|------------|------------|
| 여행 구조 | 여행 = 1개 국가/통화 | 여행 > 여러 국가/도시 (Destination) |
| 통화 표시 | 원화(KRW) 중심 | 현지 통화 우선, 원화는 참고용 |
| 환전 관리 | 없음 | 환전 지갑 (Wallet) 기능 |
| 결제 방식 | 구분 없음 | 지갑/카드/현금 구분 |
| 캘린더 | 날짜 클릭 → 모달 | 토글로 상세 리스트 펼치기/접기 |
| 지출 입력 | 수동 입력만 | 수동 + 영수증 OCR (준비중) |

---

## 데이터 모델

### 1. Trip (여행)
```typescript
interface Trip {
  id: string;
  name: string;              // "유럽 배낭여행", "도쿄 출장"
  startDate: string;         // YYYY-MM-DD
  endDate: string;
  budget?: number;           // 총 예산 (KRW)
  coverImage?: string;       // 커버 이미지 (선택)
  createdAt: string;
}
```

### 2. Destination (방문지)
```typescript
interface Destination {
  id: string;
  tripId: string;
  country: string;           // "프랑스"
  city?: string;             // "파리" (선택)
  currency: string;          // "EUR"
  startDate?: string;        // 해당 지역 체류 시작일
  endDate?: string;          // 해당 지역 체류 종료일
  orderIndex: number;        // 방문 순서
  createdAt: string;
}
```

### 3. Wallet (환전 지갑)
```typescript
interface Wallet {
  id: string;
  tripId: string;
  currency: string;          // "EUR", "JPY"
  name?: string;             // "유로 현금", "엔화 지갑"
  createdAt: string;
}

interface WalletTransaction {
  id: string;
  walletId: string;
  type: 'deposit' | 'withdraw' | 'adjust';
  amount: number;            // 양수: 입금, 음수: 출금
  exchangeRate?: number;     // 환전 시 적용 환율 (1 외화 = X 원)
  memo?: string;
  createdAt: string;
}
```

**지갑 잔액 계산**: `SUM(transactions.amount) WHERE walletId = ?`

### 4. Expense (지출)
```typescript
interface Expense {
  id: string;
  tripId: string;
  destinationId?: string;    // 어느 방문지에서 지출했는지

  // 금액 정보
  amount: number;            // 현지 통화 금액
  currency: string;          // 현지 통화 코드

  // 결제 방식
  paymentMethod: 'wallet' | 'card' | 'cash';
  walletId?: string;         // 지갑 결제 시

  // 원화 환산 (참고용)
  exchangeRate: number;      // 지출 시점 환율
  amountKRW: number;         // 환산 원화

  // 기타
  category: Category;
  memo?: string;
  date: string;              // YYYY-MM-DD
  time?: string;             // HH:mm (선택)

  // OCR 관련
  receiptImage?: string;     // 영수증 이미지 경로
  ocrProcessed?: boolean;    // OCR 처리 여부

  createdAt: string;
}
```

### 5. 카테고리 (기존 유지)
```typescript
type Category = 'food' | 'transport' | 'shopping' | 'lodging' | 'activity' | 'etc';
```

---

## 화면 구성

### 1. 홈 화면 (/)

```
┌─────────────────────────────────────┐
│  Travel Helper              [설정]  │
├─────────────────────────────────────┤
│                                     │
│  🌍 유럽 배낭여행                    │
│  1/15 ~ 1/28 (14일)                 │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 현재 위치: 🇫🇷 파리          │   │
│  │                             │   │
│  │ 오늘 지출                    │   │
│  │ €125.50                     │   │
│  │ ≈ ₩182,000                  │   │
│  │                             │   │
│  │ 총 지출                      │   │
│  │ €890.00                     │   │
│  │ ≈ ₩1,290,500                │   │
│  └─────────────────────────────┘   │
│                                     │
│  💶 환전 지갑                        │
│  ┌─────────────────────────────┐   │
│  │ EUR  €450.00 / €700.00      │   │
│  │ ████████░░░░ 64%            │   │
│  │                             │   │
│  │ CZK  Kč2,500 / Kč5,000      │   │
│  │ █████░░░░░░░ 50%            │   │
│  └─────────────────────────────┘   │
│                                     │
│  📝 최근 지출                        │
│  ┌─────────────────────────────┐   │
│  │ ☕ 카페           €4.50      │   │
│  │    10:30 · 지갑   ≈₩6,500   │   │
│  │                             │   │
│  │ 🚇 메트로         €2.40      │   │
│  │    09:15 · 카드   ≈₩3,500   │   │
│  │                             │   │
│  │ 🍕 점심           €18.00     │   │
│  │    12:30 · 지갑   ≈₩26,100  │   │
│  └─────────────────────────────┘   │
│                                     │
│              [ + ]                  │
│                                     │
└─────────────────────────────────────┘
```

**동작**:
- 진행 중인 여행이 여러 개면 상단에 슬라이드/탭으로 선택
- 현재 날짜 기준으로 어떤 Destination에 있는지 자동 감지
- 환전 지갑은 해당 여행의 모든 지갑 표시
- [+] 버튼: 지출 입력 모달

---

### 2. 지출 입력 (/expense/new)

```
┌─────────────────────────────────────┐
│  [X]        지출 입력         [저장] │
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📷 영수증 촬영    🖼️ 갤러리  │   │
│  │      (준비중)       (준비중) │   │
│  └─────────────────────────────┘   │
│                                     │
│  📍 방문지                          │
│  ┌─────────────────────────────┐   │
│  │ 🇫🇷 파리 (EUR)         ▼    │   │
│  └─────────────────────────────┘   │
│                                     │
│  💰 금액                            │
│  ┌─────────────────────────────┐   │
│  │         €25.50              │   │
│  │       ≈ ₩37,000             │   │
│  └─────────────────────────────┘   │
│                                     │
│  💳 결제 방식                        │
│  ┌───────┐ ┌───────┐ ┌───────┐    │
│  │ 💶    │ │ 💳    │ │ 💵    │    │
│  │ 지갑  │ │ 카드  │ │ 현금  │    │
│  │(€450) │ │       │ │       │    │
│  └───────┘ └───────┘ └───────┘    │
│                                     │
│  🏷️ 카테고리                        │
│  ┌─────┐┌─────┐┌─────┐┌─────┐     │
│  │ 🍽️  ││ 🚌  ││ 🛍️  ││ 🏨  │     │
│  │식비 ││교통 ││쇼핑 ││숙박 │     │
│  └─────┘└─────┘└─────┘└─────┘     │
│  ┌─────┐┌─────┐                   │
│  │ 🎡  ││ 📦  │                   │
│  │액티 ││기타 │                   │
│  └─────┘└─────┘                   │
│                                     │
│  📅 날짜                            │
│  ┌─────────────────────────────┐   │
│  │ 2025년 1월 20일 (월)    ▼   │   │
│  └─────────────────────────────┘   │
│                                     │
│  📝 메모                            │
│  ┌─────────────────────────────┐   │
│  │ 에펠탑 근처 카페            │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

**동작**:
- 방문지 선택 시 해당 통화로 자동 변경
- 금액 입력 시 실시간 원화 환산 표시
- 지갑 선택 시 잔액 표시, 잔액 부족하면 경고
- 지갑 결제 시 자동으로 WalletTransaction 생성

---

### 3. 캘린더 (/calendar)

```
┌─────────────────────────────────────┐
│  [<]      2025년 1월        [>]    │
├─────────────────────────────────────┤
│  일  월  화  수  목  금  토         │
│                  1   2   3   4      │
│                          ₩52k      │
│   5   6   7   8   9  10  11        │
│                                     │
│  12  13  14  15  16  17  18        │
│              🇫🇷 ───────────        │
│              ₩89k ₩125k ₩95k       │
│                                     │
│  19  20  21  22  23  24  25        │
│  ─────────── 🇧🇪 ─── 🇳🇱 ──────     │
│  ₩78k ₩145k ₩62k ₩88k ₩120k       │
│                                     │
│  26  27  28  29  30  31            │
│  🇨🇿 ─────────                       │
│  ₩95k ₩110k ₩85k                   │
├─────────────────────────────────────┤
│                                     │
│  📅 1월 20일 (월) - 🇫🇷 파리        │
│  총 €98.50 (≈₩145,000)             │
│                                     │
│  ▼ 상세 보기                        │
│  ┌─────────────────────────────┐   │
│  │ ☕ 아침 카페       €4.50     │   │
│  │    08:30 · 지갑             │   │
│  ├─────────────────────────────┤   │
│  │ 🚇 메트로          €2.40     │   │
│  │    09:00 · 카드             │   │
│  ├─────────────────────────────┤   │
│  │ 🎨 오르세 미술관   €16.00    │   │
│  │    10:30 · 카드             │   │
│  ├─────────────────────────────┤   │
│  │ 🍽️ 점심 비스트로  €28.00    │   │
│  │    13:00 · 지갑             │   │
│  ├─────────────────────────────┤   │
│  │ 🛍️ 기념품          €35.00    │   │
│  │    16:00 · 지갑             │   │
│  ├─────────────────────────────┤   │
│  │ 🍷 저녁 식사       €12.60    │   │
│  │    19:30 · 현금             │   │
│  └─────────────────────────────┘   │
│                                     │
│  ▶ 1월 21일 (화) - €62.00          │
│  ▶ 1월 22일 (수) - €88.00          │
│                                     │
└─────────────────────────────────────┘
```

**동작**:
- 캘린더에 국기로 어느 나라에 있었는지 표시
- 날짜별 총 지출 표시 (만원 단위 약식)
- 토글로 상세 리스트 펼치기/접기
- 지출 항목 클릭 시 수정 모달

---

### 4. 여행 상세 (/trip/[id])

```
┌─────────────────────────────────────┐
│  [<]    유럽 배낭여행        [편집] │
├─────────────────────────────────────┤
│                                     │
│  📅 1/15 ~ 1/28 (14일)              │
│  💰 예산: ₩3,000,000                │
│  📊 사용: ₩1,290,500 (43%)          │
│  ████████████░░░░░░░░░░░░░░        │
│                                     │
├─────────────────────────────────────┤
│  🗺️ 방문지                          │
│                                     │
│  1. 🇫🇷 파리                        │
│     1/15 ~ 1/20 · EUR              │
│     €520.00 (≈₩754,000)            │
│     [편집]                          │
│                                     │
│  2. 🇧🇪 브뤼셀                      │
│     1/20 ~ 1/22 · EUR              │
│     €180.00 (≈₩261,000)            │
│     [편집]                          │
│                                     │
│  3. 🇳🇱 암스테르담                   │
│     1/22 ~ 1/25 · EUR              │
│     €190.00 (≈₩275,500)            │
│     [편집]                          │
│                                     │
│  4. 🇨🇿 프라하                       │
│     1/25 ~ 1/28 · CZK              │
│     Kč2,500 (≈₩142,000)            │
│     [편집]                          │
│                                     │
│  [+ 방문지 추가]                     │
│                                     │
├─────────────────────────────────────┤
│  💶 환전 지갑                        │
│                                     │
│  EUR 유로                           │
│  ┌─────────────────────────────┐   │
│  │ 잔액: €250.00               │   │
│  │                             │   │
│  │ 📥 1/14 환전    +€500       │   │
│  │    ₩1,450 환율              │   │
│  │ 📥 1/18 추가    +€200       │   │
│  │    ₩1,460 환율              │   │
│  │ 📤 지출 차감    -€450       │   │
│  │                             │   │
│  │ [+ 환전 추가] [잔액 수정]    │   │
│  └─────────────────────────────┘   │
│                                     │
│  CZK 체코 코루나                     │
│  ┌─────────────────────────────┐   │
│  │ 잔액: Kč2,500               │   │
│  │                             │   │
│  │ 📥 1/24 환전    +Kč5,000    │   │
│  │    ₩56.8 환율               │   │
│  │ 📤 지출 차감    -Kč2,500    │   │
│  │                             │   │
│  │ [+ 환전 추가] [잔액 수정]    │   │
│  └─────────────────────────────┘   │
│                                     │
│  [+ 새 지갑 추가]                    │
│                                     │
└─────────────────────────────────────┘
```

---

### 5. 여행 생성/편집 (/trip/new, /trip/[id]/edit)

```
┌─────────────────────────────────────┐
│  [X]       새 여행 만들기    [저장] │
├─────────────────────────────────────┤
│                                     │
│  ✈️ 여행 이름                        │
│  ┌─────────────────────────────┐   │
│  │ 유럽 배낭여행               │   │
│  └─────────────────────────────┘   │
│                                     │
│  📅 여행 기간                        │
│  ┌──────────────┐ ┌──────────────┐ │
│  │ 시작일       │ │ 종료일       │ │
│  │ 2025.01.15  │ │ 2025.01.28  │ │
│  └──────────────┘ └──────────────┘ │
│                                     │
│  💰 예산 (선택)                      │
│  ┌─────────────────────────────┐   │
│  │ ₩ 3,000,000                 │   │
│  └─────────────────────────────┘   │
│                                     │
│  🗺️ 방문지                          │
│  ┌─────────────────────────────┐   │
│  │ 1. 🇫🇷 프랑스 · 파리         │   │
│  │    EUR · 1/15~1/20     [X]  │   │
│  ├─────────────────────────────┤   │
│  │ 2. 🇧🇪 벨기에 · 브뤼셀       │   │
│  │    EUR · 1/20~1/22     [X]  │   │
│  ├─────────────────────────────┤   │
│  │ 3. 🇳🇱 네덜란드 · 암스테르담  │   │
│  │    EUR · 1/22~1/25     [X]  │   │
│  ├─────────────────────────────┤   │
│  │ 4. 🇨🇿 체코 · 프라하         │   │
│  │    CZK · 1/25~1/28     [X]  │   │
│  └─────────────────────────────┘   │
│                                     │
│  [+ 방문지 추가]                     │
│                                     │
└─────────────────────────────────────┘
```

---

### 6. 방문지 추가 모달

```
┌─────────────────────────────────────┐
│  [X]        방문지 추가             │
├─────────────────────────────────────┤
│                                     │
│  🌍 국가                            │
│  ┌─────────────────────────────┐   │
│  │ 🔍 국가 검색...              │   │
│  └─────────────────────────────┘   │
│                                     │
│  자주 가는 국가                      │
│  ┌─────┐┌─────┐┌─────┐┌─────┐     │
│  │ 🇯🇵  ││ 🇺🇸  ││ 🇫🇷  ││ 🇬🇧  │     │
│  │일본 ││미국 ││프랑스││영국 │     │
│  └─────┘└─────┘└─────┘└─────┘     │
│  ┌─────┐┌─────┐┌─────┐┌─────┐     │
│  │ 🇩🇪  ││ 🇮🇹  ││ 🇪🇸  ││ 🇹🇭  │     │
│  │독일 ││이탈 ││스페인││태국 │     │
│  └─────┘└─────┘└─────┘└─────┘     │
│                                     │
│  🏙️ 도시 (선택)                     │
│  ┌─────────────────────────────┐   │
│  │ 파리                        │   │
│  └─────────────────────────────┘   │
│                                     │
│  💱 통화                            │
│  ┌─────────────────────────────┐   │
│  │ 🇪🇺 EUR (유로)          ▼   │   │
│  └─────────────────────────────┘   │
│                                     │
│  📅 체류 기간 (선택)                 │
│  ┌──────────────┐ ┌──────────────┐ │
│  │ 시작일       │ │ 종료일       │ │
│  │ 2025.01.15  │ │ 2025.01.20  │ │
│  └──────────────┘ └──────────────┘ │
│                                     │
│           [추가]                    │
│                                     │
└─────────────────────────────────────┘
```

---

### 7. 환전 추가 모달

```
┌─────────────────────────────────────┐
│  [X]        환전 추가               │
├─────────────────────────────────────┤
│                                     │
│  💶 지갑: EUR 유로                   │
│                                     │
│  💰 환전 금액                        │
│  ┌─────────────────────────────┐   │
│  │         €500               │   │
│  └─────────────────────────────┘   │
│                                     │
│  💱 환전 환율                        │
│  ┌─────────────────────────────┐   │
│  │ 1 EUR = ₩1,450             │   │
│  └─────────────────────────────┘   │
│  현재 환율: ₩1,452 [적용]           │
│                                     │
│  💵 원화 금액                        │
│  ┌─────────────────────────────┐   │
│  │ ₩725,000                   │   │
│  └─────────────────────────────┘   │
│                                     │
│  📝 메모 (선택)                      │
│  ┌─────────────────────────────┐   │
│  │ 인천공항에서 환전           │   │
│  └─────────────────────────────┘   │
│                                     │
│           [환전 추가]               │
│                                     │
└─────────────────────────────────────┘
```

---

### 8. 통계 (/stats)

```
┌─────────────────────────────────────┐
│  [<]         통계           [공유]  │
├─────────────────────────────────────┤
│                                     │
│  🌍 유럽 배낭여행                    │
│  1/15 ~ 1/28                        │
│                                     │
│  💰 총 지출                          │
│  ┌─────────────────────────────┐   │
│  │                             │   │
│  │      ₩1,432,500            │   │
│  │                             │   │
│  │   예산 대비 48% 사용         │   │
│  │   ████████████░░░░░░░░░░░  │   │
│  │   ₩3,000,000               │   │
│  └─────────────────────────────┘   │
│                                     │
│  📊 통화별 지출                      │
│  ┌─────────────────────────────┐   │
│  │ 🇪🇺 EUR    €890.00          │   │
│  │           ≈₩1,290,500      │   │
│  │ ████████████████████░░░░░  │   │
│  │                             │   │
│  │ 🇨🇿 CZK    Kč2,500          │   │
│  │           ≈₩142,000        │   │
│  │ ████░░░░░░░░░░░░░░░░░░░░░  │   │
│  └─────────────────────────────┘   │
│                                     │
│  🏷️ 카테고리별                       │
│  ┌─────────────────────────────┐   │
│  │         [PIE CHART]         │   │
│  │      🍽️ 식비 35%            │   │
│  │      🚌 교통 20%            │   │
│  │      🛍️ 쇼핑 18%            │   │
│  │      🏨 숙박 15%            │   │
│  │      🎡 액티비티 8%         │   │
│  │      📦 기타 4%             │   │
│  └─────────────────────────────┘   │
│                                     │
│  🗺️ 국가별                          │
│  ┌─────────────────────────────┐   │
│  │ 🇫🇷 파리       ₩754,000     │   │
│  │ ████████████████░░░░░░░░░  │   │
│  │                             │   │
│  │ 🇳🇱 암스테르담  ₩275,500     │   │
│  │ ██████░░░░░░░░░░░░░░░░░░░  │   │
│  │                             │   │
│  │ 🇧🇪 브뤼셀     ₩261,000     │   │
│  │ █████░░░░░░░░░░░░░░░░░░░░  │   │
│  │                             │   │
│  │ 🇨🇿 프라하     ₩142,000     │   │
│  │ ███░░░░░░░░░░░░░░░░░░░░░░  │   │
│  └─────────────────────────────┘   │
│                                     │
│  📈 일별 추이                        │
│  ┌─────────────────────────────┐   │
│  │     [LINE CHART]            │   │
│  │  ₩150k ─┐    ╱╲             │   │
│  │  ₩100k  ╲  ╱  ╲  ╱╲        │   │
│  │  ₩50k    ╲╱    ╲╱  ╲       │   │
│  │       15 16 17 18 19 20    │   │
│  └─────────────────────────────┘   │
│                                     │
│  📊 요약                            │
│  ┌─────────────────────────────┐   │
│  │ 일 평균      ₩102,321       │   │
│  │ 최고 지출일   1/20 (₩145k)  │   │
│  │ 최다 카테고리 식비 (35%)     │   │
│  │ 지출 건수    47건           │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

---

### 9. 설정 (/settings)

```
┌─────────────────────────────────────┐
│          설정                       │
├─────────────────────────────────────┤
│                                     │
│  ✈️ 여행 관리                        │
│  ┌─────────────────────────────┐   │
│  │ 🌍 유럽 배낭여행        >    │   │
│  │    1/15~1/28 · 진행중       │   │
│  ├─────────────────────────────┤   │
│  │ 🇯🇵 도쿄 여행            >    │   │
│  │    2024.12.20~25 · 완료     │   │
│  ├─────────────────────────────┤   │
│  │ [+ 새 여행 추가]             │   │
│  └─────────────────────────────┘   │
│                                     │
│  💱 환율                            │
│  ┌─────────────────────────────┐   │
│  │ 마지막 업데이트              │   │
│  │ 2025.01.20 10:30           │   │
│  │                             │   │
│  │ EUR €1 = ₩1,452            │   │
│  │ JPY ¥100 = ₩920            │   │
│  │ USD $1 = ₩1,435            │   │
│  │                             │   │
│  │ [환율 새로고침]              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ⚙️ 앱 설정                         │
│  ┌─────────────────────────────┐   │
│  │ 기본 통화           KRW  >  │   │
│  │ 테마              자동   >  │   │
│  │ 데이터 백업/복원         >  │   │
│  │ 앱 정보                  >  │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

---

## DB 스키마 변경

### 새 테이블

```sql
-- 방문지 테이블
CREATE TABLE destinations (
  id TEXT PRIMARY KEY,
  tripId TEXT NOT NULL,
  country TEXT NOT NULL,
  city TEXT,
  currency TEXT NOT NULL,
  startDate TEXT,
  endDate TEXT,
  orderIndex INTEGER DEFAULT 0,
  createdAt TEXT NOT NULL,
  FOREIGN KEY (tripId) REFERENCES trips(id) ON DELETE CASCADE
);

CREATE INDEX idx_destinations_tripId ON destinations(tripId);

-- 환전 지갑 테이블
CREATE TABLE wallets (
  id TEXT PRIMARY KEY,
  tripId TEXT NOT NULL,
  currency TEXT NOT NULL,
  name TEXT,
  createdAt TEXT NOT NULL,
  FOREIGN KEY (tripId) REFERENCES trips(id) ON DELETE CASCADE
);

CREATE INDEX idx_wallets_tripId ON wallets(tripId);

-- 지갑 거래 내역 테이블
CREATE TABLE wallet_transactions (
  id TEXT PRIMARY KEY,
  walletId TEXT NOT NULL,
  type TEXT NOT NULL,  -- 'deposit', 'withdraw', 'adjust'
  amount REAL NOT NULL,
  exchangeRate REAL,
  memo TEXT,
  createdAt TEXT NOT NULL,
  FOREIGN KEY (walletId) REFERENCES wallets(id) ON DELETE CASCADE
);

CREATE INDEX idx_wallet_transactions_walletId ON wallet_transactions(walletId);
```

### 기존 테이블 수정

```sql
-- trips 테이블: country, currency 컬럼 제거
ALTER TABLE trips DROP COLUMN country;
ALTER TABLE trips DROP COLUMN currency;

-- expenses 테이블: 새 컬럼 추가
ALTER TABLE expenses ADD COLUMN destinationId TEXT;
ALTER TABLE expenses ADD COLUMN walletId TEXT;
ALTER TABLE expenses ADD COLUMN paymentMethod TEXT DEFAULT 'card';
ALTER TABLE expenses ADD COLUMN time TEXT;
ALTER TABLE expenses ADD COLUMN receiptImage TEXT;
ALTER TABLE expenses ADD COLUMN ocrProcessed INTEGER DEFAULT 0;
```

---

## 마이그레이션 전략

기존 데이터가 있는 사용자를 위한 마이그레이션:

1. **trips 테이블**
   - 기존 `country`, `currency`를 사용해 자동으로 `destinations` 레코드 생성
   - `destinations.startDate` = `trips.startDate`
   - `destinations.endDate` = `trips.endDate`

2. **expenses 테이블**
   - 기존 지출의 `destinationId`는 자동 생성된 destination으로 연결
   - `paymentMethod`는 기본값 'card'

---

## 구현 우선순위

### Phase 1: 핵심 구조 변경
1. DB 스키마 변경 + 마이그레이션
2. Destination CRUD
3. 여행 생성/편집 UI 변경
4. 지출 입력에 방문지 선택 추가

### Phase 2: 환전 지갑
1. Wallet, WalletTransaction 모델
2. 지갑 CRUD + 거래 내역
3. 지출 시 지갑 연동
4. 홈 화면에 지갑 잔액 표시

### Phase 3: UI 개선
1. 현지 통화 우선 표시
2. 캘린더 토글 리스트
3. 통계 화면 국가별/통화별 추가

### Phase 4: 부가 기능
1. OCR 버튼 (준비중 상태)
2. 데이터 백업/복원
3. 공유 기능

---

## 기술 스택 (유지)

- **Framework**: Expo + React Native
- **Navigation**: Expo Router
- **State**: Zustand
- **Database**: expo-sqlite
- **Charts**: react-native-chart-kit
- **UI**: Custom components + Expo Icons

---

## 비고

- OCR 기능은 v2.1에서 구현 예정 (Google Cloud Vision 또는 on-device ML)
- 다중 사용자/공유 기능은 v3.0에서 고려
